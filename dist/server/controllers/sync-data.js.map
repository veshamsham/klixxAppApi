{"version":3,"sources":["server/controllers/sync-data.js"],"names":["getSyncData","req","res","next","currTripId","user","currTripState","returnObj","success","message","data","tripRequest","trip","undefined","send","TripRequestSchema","findOneAsync","$and","_id","$or","tripRequestStatus","then","tripRequestObj","transformedTripRequestObj","error","e","err","APIError","httpStatus","INTERNAL_SERVER_ERROR","TripSchema","tripStatus","tripObj","transformedTripObj"],"mappings":"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","file":"sync-data.js","sourceRoot":"../../../../.."}