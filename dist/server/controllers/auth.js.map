{"version":3,"sources":["server/controllers/auth.js"],"names":["testServer","req","res","next","send","success","message","loginadmin","UserSchema","findOneAsync","email","body","$or","userType","then","user","err","APIError","httpStatus","NOT_FOUND","comparePassword","password","passwordError","isMatch","UNAUTHORIZED","loginStatus","gpsLoc","token","jwt","sign","toJSON","config","jwtSecret","findOneAndUpdateAsync","_id","$set","updatedUser","returnObj","data","jwtAccessToken","json","error","err123","INTERNAL_SERVER_ERROR","e","login","console","log","userObj","logout","undefined","isAvailable","findOneAndUpdate","userDoc","checkUser","foundUser"],"mappings":"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","file":"auth.js","sourceRoot":"../../../../.."}