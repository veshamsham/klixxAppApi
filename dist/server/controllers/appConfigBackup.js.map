{"version":3,"sources":["server/controllers/appConfigBackup.js"],"names":["_","require","getConfig","req","res","next","AppConfig","find","error","configData","err","APIError","httpStatus","INTERNAL_SERVER_ERROR","send","updateVersion","Promise","resolve","reject","findOneAsync","key","then","foundKey","prevValue","value","newVersion","findOneAndUpdateAsync","$set","type","updatedVersion","e","newVersionConfig","saveAsync","savedVersionConfigObj","updateConfig","reqObj","Object","assign","body","result","keys","values","map","keyitem","index","updatedConfigObj","push","length","versionConfig","newConfig","savedConfigObj","getConfigVersion","returnObj","success","message","data","version"],"mappings":"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","file":"appConfigBackup.js","sourceRoot":"../../../../.."}