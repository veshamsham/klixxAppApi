{"version":3,"sources":["server/controllers/admin-trip-user.js"],"names":["debug","require","userTripDetails","req","res","next","userId","params","query","limit","config","pageNo","skip","UserSchema","findByIdAsync","then","userObject","returnObj","success","message","data","meta","totalNoOfPages","currPageNo","totalRecords","undefined","send","userType","TripRequestSchema","getUserCount","totalUserTripRequestRecords","Math","ceil","err","APIError","httpStatus","NOT_FOUND","userList","userTripRequestData","i","length","error","e","INTERNAL_SERVER_ERROR","userTripRequestStatics","searchObj","groupBy","riderId","_id","driverId","aggregateAsync","$match","$group","completed","$sum","$cond","$eq","inQueue","$anyElementTrue","$map","input","as","cancelled","$or","totalRequest","chartStats"],"mappings":"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","file":"admin-trip-user.js","sourceRoot":"../../../../.."}